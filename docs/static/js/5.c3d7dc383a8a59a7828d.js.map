{"version":3,"sources":["webpack:///src/view/wallet/index.vue","webpack:///./src/view/wallet/index.vue?c349","webpack:///./src/view/wallet/index.vue"],"names":["name","components","transfer","__webpack_require__","e","then","bind","delegatebw","undelegatebw","currency-balance","buyram","sellram","bidname","data","currentTabCompnent","loading","dialogVisible","accountName","eosmonitorTransaction","eosmonitorAccount","methods","showDialog","this","network","config","assign_default","keyProvider","privateKey","eosConfig","$eosjs","refund","_this","$message","warning","openFullScreenLoading","owner","res","transaction_id","close","$notify","title","message","duration","type","dangerouslyUseHTMLString","catch","error","Object","helper","$loading","lock","text","spinner","background","computed","extends_default","vuex_esm","state","key","priKeys","accountNames","view_wallet","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","push","on","click","$event","_v","visible","width","update:visible","staticStyle","margin-top","filterable","placeholder","model","value","callback","$$v","expression","_l","label","slot","mode","tag","staticRenderFns","Component","normalizeComponent","wallet","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.c3d7dc383a8a59a7828d.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <el-row>\n      <el-col :span=\"22\" :push=\"1\">\n        <el-card>\n          <el-button type=\"text\" @click=\"currentTabCompnent = 'transfer'\">转账</el-button>\n          <el-button type=\"text\" @click=\"currentTabCompnent = 'delegatebw'\">抵押EOS</el-button>\n          <el-button type=\"text\" @click=\"currentTabCompnent = 'undelegatebw'\">取消抵押EOS</el-button>\n          <el-button type=\"text\" @click=\"showDialog\">退款</el-button>\n          <el-button type=\"text\" @click=\"currentTabCompnent = 'buyram'\">购买ram</el-button>\n          <el-button type=\"text\" @click=\"currentTabCompnent = 'sellram'\">出售ram</el-button>\n          <el-button type=\"text\" @click=\"currentTabCompnent = 'bidname'\">竞价账户</el-button>\n\n          <el-dialog\n            title=\"退款（取消抵押的EOS退回到账户余额）\"\n            :visible.sync=\"dialogVisible\"\n            width=\"40%\">\n            <h4 style=\"margin-top: 0;\">请选择需退回的账号名</h4>\n            <el-select v-model=\"accountName\" filterable placeholder=\"请选择账户\">\n              <el-option\n                v-for=\"name in accountNames\"\n                :key=\"name\"\n                :label=\"name\"\n                :value=\"name\">\n              </el-option>\n            </el-select>\n            <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button type=\"primary\" @click=\"refund\">确 定</el-button>\n            </span>\n          </el-dialog>\n        </el-card>\n        <transition name=\"fade\" mode=\"out-in\">\n          <component :is=\"currentTabCompnent\"></component>\n        </transition>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport {errorHelper} from '@/utils/helper'\n\nexport default {\n  name: 'wallet',\n  components: {\n    'transfer': () => import('./transfer'),\n    'delegatebw': () => import('./delegatebw'),\n    'undelegatebw': () => import('./undelegatebw'),\n    'currency-balance': () => import('./currencyBalance'),\n    'buyram': () => import('./buyram'),\n    'sellram': () => import('./sellram'),\n    'bidname': () => import('./bidname')\n  },\n  data () {\n    return {\n      currentTabCompnent: 'transfer',\n      loading: null,\n      dialogVisible: false,\n      accountName: '',\n      eosmonitorTransaction: 'https://eosmonitor.io/txn',\n      eosmonitorAccount: 'https://eosmonitor.io/account'\n    }\n  },\n  methods: {\n    showDialog () {\n      this.dialogVisible = true\n    },\n    network () {\n      let config = Object.assign(\n        {\n          keyProvider: this.privateKey\n        },\n        this.eosConfig\n      )\n      return this.$eosjs(config)\n    },\n    refund () {\n      if (this.accountName === '') {\n        this.$message.warning('请选择退款账号！')\n        return false\n      }\n      this.openFullScreenLoading()\n      this.network().refund({owner: this.accountName})\n        .then(res => {\n          /* eslint-disable camelcase */\n          let { transaction_id } = res\n          this.loading.close()\n          this.$notify({\n            title: '退款成功',\n            message: `\n            <p>接下来可以</p>\n            <a href=\"${this.eosmonitorTransaction}/${transaction_id}\" target=\"_blank\">前往查看浏览器操作详情<a>\n            `,\n            duration: 4000,\n            type: 'success',\n            dangerouslyUseHTMLString: true\n          })\n        })\n        .catch(e => {\n          this.loading.close()\n          this.$message.error(errorHelper(e))\n          this.$notify({\n            title: '退款失败',\n            message: `\n            <p>可能的原因</p>\n            <ol>\n              <li>退款账户不存在</li>\n              <li>取消抵押时间间隔未到三天</li>\n            </ol>\n            <br>\n            前往查看账户详情： <a href=\"${this.eosmonitorAccount}/${this.accountName}\" target=\"_blank\">${this.accountName}<a>\n            <br>\n            `,\n            duration: 4000,\n            type: 'error',\n            dangerouslyUseHTMLString: true\n          })\n        })\n    },\n    openFullScreenLoading () {\n      this.loading = this.$loading({\n        lock: true,\n        text: 'Loading',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      })\n    }\n  },\n  computed: {\n    ...mapState({\n      privateKey: state => state.key.priKeys,\n      accountNames: state => state.accountNames,\n      eosConfig: state => state.eosConfig\n    })\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/wallet/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":22,\"push\":1}},[_c('el-card',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.currentTabCompnent = 'transfer'}}},[_vm._v(\"转账\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.currentTabCompnent = 'delegatebw'}}},[_vm._v(\"抵押EOS\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.currentTabCompnent = 'undelegatebw'}}},[_vm._v(\"取消抵押EOS\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.showDialog}},[_vm._v(\"退款\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.currentTabCompnent = 'buyram'}}},[_vm._v(\"购买ram\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.currentTabCompnent = 'sellram'}}},[_vm._v(\"出售ram\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.currentTabCompnent = 'bidname'}}},[_vm._v(\"竞价账户\")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"退款（取消抵押的EOS退回到账户余额）\",\"visible\":_vm.dialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('h4',{staticStyle:{\"margin-top\":\"0\"}},[_vm._v(\"请选择需退回的账号名\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择账户\"},model:{value:(_vm.accountName),callback:function ($$v) {_vm.accountName=$$v},expression:\"accountName\"}},_vm._l((_vm.accountNames),function(name){return _c('el-option',{key:name,attrs:{\"label\":name,\"value\":name}})})),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.refund}},[_vm._v(\"确 定\")])],1)],1)],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c(_vm.currentTabCompnent,{tag:\"component\"})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6388f92c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/wallet/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6388f92c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6388f92c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6388f92c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/wallet/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}