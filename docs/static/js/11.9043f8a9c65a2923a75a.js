webpackJsonp([11,14],{A1d5:function(e,t){},C5Km:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("Dd8w"),n=o.n(r),a=o("woOf"),l=o.n(a),s=o("NYxO"),c=o("VSB1"),i={name:"wallet",components:{currencyBalance:o("I8cB").default},data:function(){return{loading:null,form:{from:"",to:"",quantity:"",memo:(new Date).toLocaleString("en")},options:{broadcast:!0},rules:{from:{required:!0,message:"请选择转账账户",trigger:"change"},to:{required:!0,validator:function(e,t,o){""===t?o(new Error("请输入账户名")):/^[1-5a-z]+$/g.test(t)?o():o(new Error("名字只能包含 1-5 a-z ！"))},trigger:"blur"},quantity:{required:!0,message:"请输入要转的EOS数量",trigger:"blur"}},eosmonitorTransaction:"https://eosmonitor.io/txn",eosmonitorAccounts:"https://eosmonitor.io/accounts",eosmonitorAccount:"https://eosmonitor.io/account"}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.warning("填写有误"),console.log("error submit!!"),!1;t.openFullScreenLoading(),t.transferToken()})},resetForm:function(e){this.$refs[e].resetFields()},network:function(){var e=l()({keyProvider:this.privateKey},this.eosConfig);return this.$eosjs(e)},transferToken:function(){var e=this;this.network().transfer(this.form,this.options.broadcast).then(function(t){var o=t.transaction_id;e.loading.close(),e.$notify({title:"转账成功",message:'\n            <p>接下来可以</p>\n            <a href="'+e.eosmonitorTransaction+"/"+o+'" target="_blank">前往查看浏览器操作详情<a>\n            ',duration:4e3,type:"success",dangerouslyUseHTMLString:!0})}).catch(function(t){e.loading.close(),e.$message.error(Object(c.a)(t)),e.$notify({title:"转账失败",message:'\n            <p>可能的原因</p>\n            <ol>\n              <li>接收账户不存在</li>\n              <li>账户余额不足</li>\n            </ol>\n            <br>\n            前往查看账户余额： <a href="'+e.eosmonitorAccount+"/"+e.form.from+'" target="_blank">'+e.form.from+'<a>\n            <br>\n            前往查看账户是否存在：<a href="'+e.eosmonitorAccounts+'" target="_blank">'+e.form.to+"<a>\n            ",duration:4e3,type:"error",dangerouslyUseHTMLString:!0})})},openFullScreenLoading:function(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}},computed:n()({},Object(s.c)({privateKey:function(e){return e.key.priKeys},accountNames:function(e){return e.accountNames},eosConfig:function(e){return e.eosConfig}}))},u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{staticClass:"container"},[o("el-col",{attrs:{xs:24,sm:22,lg:14}},[o("el-card",[o("h2",[e._v("转账")]),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"转账账户",prop:"from"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择账户"},model:{value:e.form.from,callback:function(t){e.$set(e.form,"from",t)},expression:"form.from"}},e._l(e.accountNames,function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"接收账户",prop:"to"}},[o("el-input",{attrs:{maxlength:"12",placeholder:"请输入接收账户名"},model:{value:e.form.to,callback:function(t){e.$set(e.form,"to",t)},expression:"form.to"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"转账数量 例:2.0000 EOS",prop:"quantity"}},[o("el-input",{attrs:{placeholder:"请输入EOS数量"},model:{value:e.form.quantity,callback:function(t){e.$set(e.form,"quantity",t)},expression:"form.quantity"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"备注（可选）"}},[o("el-input",{attrs:{placeholder:"备注"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"广播（可选）"}},[o("el-radio",{attrs:{label:!0},model:{value:e.options.broadcast,callback:function(t){e.$set(e.options,"broadcast",t)},expression:"options.broadcast"}},[e._v("true")]),e._v(" "),o("el-radio",{attrs:{label:!1},model:{value:e.options.broadcast,callback:function(t){e.$set(e.options,"broadcast",t)},expression:"options.broadcast"}},[e._v("false")])],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("form")}}},[e._v("确定转账")]),e._v(" "),o("el-button",{attrs:{type:"ghost"},on:{click:function(t){e.resetForm("form")}}},[e._v("重置表单")])],1)],1)],1)],1),e._v(" "),o("el-col",{staticClass:"aside-spaceing",attrs:{xs:24,sm:22,lg:8}},[o("currency-balance"),e._v(" "),o("el-card",{staticStyle:{color:"#909399"}},[o("h3",{staticStyle:{color:"#2c3e50"}},[e._v("提示：")]),e._v(" "),o("ol",[o("li",[e._v("账号格式 1-5 a-z")]),e._v(" "),o("li",[e._v("代币数量格式 数量+空格+符号")]),e._v(" "),o("li",[e._v("代币数量需保留四位小数")])])])],1)],1)},staticRenderFns:[]};var m=o("VU/8")(i,u,!1,function(e){o("A1d5")},"data-v-2ca2b6bf",null);t.default=m.exports},I8cB:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("Dd8w"),n=o.n(r),a=o("NYxO"),l={name:"currency-balance",data:function(){return{loading:null,currencyBalanceNum:[],form:{code:"eosio.token",account:"",symbol:"EOS"},rules:{code:{required:!0,message:"请输入合约账户名",trigger:"blur"},account:{required:!0,validator:function(e,t,o){""===t?o(new Error("请输入账户名")):/^[1-5a-z]+$/g.test(t)?o():o(new Error("名字只能包含 1-5 a-z ！"))},trigger:"blur"},symbol:{required:!0,message:"请输入代币符号",trigger:"blur"}}}},methods:n()({},Object(a.b)(["connectEOSNet"]),{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message.warning("填写有误"),console.log("error submit!!"),!1;t.openFullScreenLoading(),t.getCurrencyBalance()})},getCurrencyBalance:function(){var e=this;this.connectEOSNet().then(function(t){t.getCurrencyBalance(e.form).then(function(t){e.currencyBalanceNum=t,e.$message.success("查询成功"),e.loading.close()}).catch(function(t){e.loading.close(),console.log(t),e.$message.error("查询失败")})})},openFullScreenLoading:function(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}})},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticStyle:{color:"#909399"}},[o("h3",{staticStyle:{color:"#2c3e50"}},[e._v("账户余额")]),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"合约账户名",prop:"code"}},[o("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"查询账户",prop:"account"}},[o("el-input",{attrs:{maxlength:"12"},model:{value:e.form.account,callback:function(t){e.$set(e.form,"account",t)},expression:"form.account"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"代币符号",prop:"symbol"}},[o("el-input",{model:{value:e.form.symbol,callback:function(t){e.$set(e.form,"symbol",t)},expression:"form.symbol"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("form")}}},[e._v("查询")])],1)],1),e._v(" "),o("hr"),e._v(" "),e.currencyBalanceNum.length>0?o("ul",e._l(e.currencyBalanceNum,function(t,r){return o("li",{key:r},[o("p",[e._v(e._s(t))])])})):o("p",[e._v("无")])],1)},staticRenderFns:[]};var c=o("VU/8")(l,s,!1,function(e){o("pjAV")},"data-v-d56d8e4a",null);t.default=c.exports},pjAV:function(e,t){}});
//# sourceMappingURL=11.9043f8a9c65a2923a75a.js.map