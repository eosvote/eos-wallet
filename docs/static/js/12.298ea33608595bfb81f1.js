webpackJsonp([12,0],{VSB1:function(e,r,o){"use strict";o.d(r,"a",function(){return t});var t=function(e){try{var r=JSON.parse(e).error,o=r.details,t=r.what,n=r.code,a="code: "+n+" | "+(o&&o.length>0?o.length>0&&o.map(function(e){return e.message}):t)+" ";return console.log(e),a}catch(r){return console.log(r),e}}},eoXS:function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=o("Dd8w"),n=o.n(t),a=o("woOf"),i=o.n(a),s=o("NYxO"),l=o("VSB1"),c={name:"votes",data:function(){return{form:{proxy:"",isproxy:1},rules:{proxy:{required:!0,message:"请选择注册账户名",trigger:"change"}},tableData:[],eosmonitorTransaction:"https://eosmonitor.io/txn",loading:null}},methods:{handleSubmit:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return r.$message.warning("填写有误"),console.log("error submit!!"),!1;r.openFullScreenLoading(),r.regproxy()})},regproxy:function(){var e=this,r=i()({keyProvider:this.privateKey},this.eosConfig);this.$eosjs(r).regproxy(this.form).then(function(r){var o=r.transaction_id;e.loading.close(),e.$notify({title:(e.isproxy?"注册":"取消")+"成功",message:'\n            <p>接下来可以</p>\n            <a href="'+e.eosmonitorTransaction+"/"+o+'" target="_blank">前往查看浏览器操作详情<a>\n            ',duration:0,type:"success",dangerouslyUseHTMLString:!0})}).catch(function(r){e.loading.close(),e.$message.error(Object(l.a)(r))})},openFullScreenLoading:function(){this.loading=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}},computed:n()({},Object(s.c)({privateKey:function(e){return e.key.priKeys},accountNames:function(e){return e.accountNames},eosConfig:function(e){return e.eosConfig}}))},u={render:function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"container"},[o("el-card",[o("h3",[e._v("注册为投票代理人")]),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"注册账户",prop:"proxy"}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择账户"},model:{value:e.form.proxy,callback:function(r){e.$set(e.form,"proxy",r)},expression:"form.proxy"}},e._l(e.accountNames,function(e){return o("el-option",{key:e,attrs:{label:e,value:e}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"是否成为为代理"}},[o("el-radio",{attrs:{label:1},model:{value:e.form.isproxy,callback:function(r){e.$set(e.form,"isproxy",r)},expression:"form.isproxy"}},[e._v("true")]),e._v(" "),o("el-radio",{attrs:{label:0},model:{value:e.form.isproxy,callback:function(r){e.$set(e.form,"isproxy",r)},expression:"form.isproxy"}},[e._v("false")]),e._v(" "),o("p",[e._v("( 提示：注册代理选 True，取消选 false )")])],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(r){e.handleSubmit("form")}}},[e._v("确定")])],1)],1)],1)],1)},staticRenderFns:[]};var f=o("VU/8")(c,u,!1,function(e){o("iz4H")},"data-v-f7945b9e",null);r.default=f.exports},iz4H:function(e,r){}});
//# sourceMappingURL=12.298ea33608595bfb81f1.js.map